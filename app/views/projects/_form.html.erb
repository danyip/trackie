
<%  if @project.errors.any? %>
  <ul>
  <% @project.errors.full_messages.each do |e|%>
  <li>
    <%= e %>
  </li>
  <% end %>
  </ul>

<% end%>

<%=form_with model: @project, local: true do |f| %>
  
  <article class="project-box">
        
    <div class="title"><h3><%= f.text_field :title, placeholder: 'title' %></h3></div>

    <div class="project-description"><p><%= f.text_field :description, placeholder: 'description' %></p></div>

      <div class="priority-wrapper">
        <%= f.collection_select :priority, Project.priorities.keys, :to_s, :to_s, include_blank: true%>
      </div>

      <div class="due"><%= f.datetime_local_field :due_date%></div>

      <div class="user"><%= f.collection_select :user_id, User.all, :id, :username %></div>

  </article>


  <div>
    <h4>Create a new task</h4>
    <%= f.fields_for :tasks, Task.new do |t|  %>
      <div>
        <%= t.label :title %>
        <%= t.text_field :title %>
      </div>
      <div>
        <%= t.label :user_id %>
        <%= t.collection_select :user_id, User.all, :id, :username, include_blank: true %>
      </div>
      <div>
        <%= t.label :description %>
        <%= t.text_area :description %>
      </div>
      <div>
        <%= t.label :due_date %>
        <%= t.datetime_local_field :due_date %>
      </div>
      <div>
        <%= t.label :status %>
        <% Task.statuses.keys.each do |s| %>
          <%= t.radio_button :status, s %>
          <%= t.label :status, s, :value => s %>
        <% end %>
      </div>
      <div>
        <%= t.label :priority %>
        <% Task.priorities.keys.each do |s| %>
          <%= t.radio_button :priority, s %>
          <%= t.label :priority, s, :value => s %>
        <% end %>
      </div>
    <% end %>
  </div>


  <%= f.submit %>



<% end %>